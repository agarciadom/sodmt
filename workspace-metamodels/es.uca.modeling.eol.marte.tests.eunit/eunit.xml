<project default="all-tests">
	<target name="init">
		<tstamp />
		<macrodef name="load.marte.model">
			<attribute name="model" />
			<attribute name="basename" />
			<sequential>
				<epsilon.emf.loadModel name="@{model}" modelfile="models/@{basename}.uml" metamodeluri="http://www.eclipse.org/papyrus/MARTE/1" read="true" store="false" />
			</sequential>
		</macrodef>
	</target>

	<target name="caggregation" depends="init">
		<epsilon.eunit src="caggregation.eol" package="sodmt.marte" report="no" />
	</target>

	<target name="throughput" depends="init">
		<epsilon.eunit src="throughput.eol" package="sodmt.marte" report="no" />
	</target>

	<target name="tlimits" depends="init">
		<epsilon.eunit src="tlimits.eol" package="sodmt.marte" report="no" />
	</target>

	<target name="all-tests" depends="caggregation,throughput,tlimits" />

	<target name="load-marte-model">
		<load.marte.model model="UML" basename="model" />
		<load.marte.model model="MultiDiagram" basename="multimodel" />
	</target>
</project>
